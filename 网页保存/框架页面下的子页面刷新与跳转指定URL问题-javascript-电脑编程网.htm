<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=gb2312" /><title>框架页面下的子页面刷新与跳转指定URL问题-javascript-电脑编程网</title><meta name="keywords" content="框架页面下的子页面刷新与跳转指定URL问题,javascriptJavaScript 框架页面下的子页面刷新与跳转指定URL问题" /><meta name="description" content="导读：框架页面非常不错，是一个了不起的技术，为我们程序员省去了不少的重复劳动，但是也出现了一个问题，如以下代码：&lt;table width=900 border=..." /><link href="http://www.dnbcw.info/css/info_show.css" rel="stylesheet" type="text/css"/></head><body><div class="all"><div class="all_l"><div id=danav></div><div class="nav bglv"><img src="http://www.dnbcw.info/images/logo1.gif" alt="电脑编程网" align="absmiddle"><a href="http://www.dnbcw.info/">电脑编程网</a> &gt; <a href="http://biancheng.dnbcw.info/javascript/">javascript</a> &gt; 正文<a href="http://www.dnbcw.info/rss.php?id=4"><img src=http://www.dnbcw.info/images/rss.gif alt="订阅本分类信息" border="0" /></a></div><div class=db><h1>框架页面下的子页面刷新与跳转指定URL问题</h1><div class=hui style='overflow:auto'>作者：takkymj　和<a href="http://biancheng.dnbcw.info/javascript/"><strong>javascript</strong></a>相关&nbsp;&nbsp;</div><div style="height:250px;margin:10px 0"><div style="float:left"><script type="text/javascript"><!--
google_ad_client = "ca-pub-5582534119917896";
/* 300x250, 创建于 09-5-11 */
google_ad_slot = "3847221247";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div><div style="float:right"><script type="text/javascript">/*300*250，创建于2012-9-8*/ var cpro_id = 'u1053763';</script><script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script></div></div><div style='overflow:auto'><div id="bdshare" class="bdshare_t bds_tools get-codes-bdshare"><a class="bds_tsina">新浪微博</a><a class="bds_qzone">QQ空间</a><a class="bds_tqq">QQ微博</a><a class="bds_baidu">百度搜藏</a><a class="bds_tqf">腾讯朋友</a><a class="bds_qq">QQ收藏</a><a class="bds_hi">百度空间</a><a class="bds_renren">人人网</a><a class="bds_kaixin001">开心网</a><a class="shareCount"></a></div></div><div class=content>
    框架页面非常不错，是一个了不起的技术，为我们程序员省去了不少的重复劳动，但是也出现了一个问题，如以下代码：<br>&lt;table width="900" border="0" align="center" cellpadding="0" cellspacing="0"&gt;<br>&lt;tr&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;iframe src="top.<a href=http://biancheng.dnbcw.info/jsp/>jsp</a>" width="900" height="142" scrolling="No" frameborder="0"&gt;&lt;/iframe&gt;&lt;/td&gt;<br>&lt;/tr&gt;<br>&lt;/table&gt;<br>&lt;table width="900" border="0" align="center" cellpadding="0" cellspacing="0"&gt;<br>&lt;tr&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td width="212" align="left" valign="top"&gt;&lt;table width="198" border="0" cellpadding="0" cellspacing="0"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width="198"&gt;&lt;iframe id="loginFrame" src="ulogin.csl" width="198" height="111" scrolling="No" frameborder="0"&gt;&lt;/iframe&gt;&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/table&gt;<br>&lt;table width="198" border="0" cellpadding="0" cellspacing="0"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width="198"&gt;&lt;iframe name="count" src="count.<a href=http://biancheng.dnbcw.info/jsp/>jsp</a>" width="198" height="135" scrolling="No" frameborder="0" marginheight="0" marginwidth="0" vspace="0" hspace="0"&gt;&lt;/iframe&gt;<br>&nbsp;&nbsp; &lt;/td&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/table&gt;<br>&nbsp;&nbsp;&nbsp; &lt;table width="198" border="0" cellpadding="0" cellspacing="0"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width="198"&gt;&lt;iframe src="companyprofile.jsp" height="200" width="198" scrolling="No" frameborder="0"&gt;&lt;/iframe&gt;&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/table&gt;&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td width="688" valign="top" class="font12"&gt;&lt;!--&lt;DIV id="Layer_Loading" style="POSITION: absolute;display:none;"&gt;页面正在加载中……&lt;/DIV&gt;--&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;iframe id="mainFrame" src="firstPage.jsp" width="700" scrolling="No" frameborder="0" onload="toppage();"&gt;&lt;/iframe&gt;&lt;/td&gt;<br>&lt;/tr&gt;<br>&lt;/table&gt;<br>&lt;table width="900" border="0" align="center" cellpadding="0" cellspacing="0"&gt;<br>&lt;tr&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;iframe src="bottom.jsp" width="900" height="100" scrolling="No" frameborder="0"&gt;&lt;/iframe&gt;&lt;/td&gt;<br>&lt;/tr&gt;<br>&lt;/table&gt;<br>以上是我们公司的一个网站的主页面框架。<br>做完了之后，我们BOSS随后发现了一个问题，在非主页面进行刷新，都会跳到上面的页面中，也就是跳到主页面中，这一点让我们BOSS感觉很不爽：“我刷新当前页面，怎么你给我跳到别的页面去了。”<br>我仔细看了一下，这个问题的确让人很不爽，有不少用户都有“刷新”或者F5的习惯，出现这样的场景真是让人难看。<br>问题实质很明白：框架页面下的子页面跳转并不改变浏览器栏中的URL，当用户刷新的时候自然而然地跳到原来的主页面当中了。<br>如何解决这个问题呢？<br>我想应该跳转的时候同时改变浏览器的URL里的参数，再由主页面接受参数决定跳转到哪个页面。<br>更改过的代码如下：<br>&lt;table width="900" border="0" align="center" cellpadding="0" cellspacing="0"&gt;<br>&lt;tr&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;iframe src="top.jsp" width="900" height="142" scrolling="No" frameborder="0"&gt;&lt;/iframe&gt;&lt;/td&gt;<br>&lt;/tr&gt;<br>&lt;/table&gt;<br>&lt;table width="900" border="0" align="center" cellpadding="0" cellspacing="0"&gt;<br>&lt;tr&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td width="212" align="left" valign="top"&gt;&lt;table width="198" border="0" cellpadding="0" cellspacing="0"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width="198"&gt;&lt;iframe id="loginFrame" src="ulogin.csl" width="198" height="111" scrolling="No" frameborder="0"&gt;&lt;/iframe&gt;&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/table&gt;<br>&lt;table width="198" border="0" cellpadding="0" cellspacing="0"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width="198"&gt;&lt;iframe name="count" src="count.jsp" width="198" height="135" scrolling="No" frameborder="0" marginheight="0" marginwidth="0" vspace="0" hspace="0"&gt;&lt;/iframe&gt;<br>&nbsp;&nbsp; &lt;/td&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/table&gt;<br>&nbsp;&nbsp;&nbsp; &lt;table width="198" border="0" cellpadding="0" cellspacing="0"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width="198"&gt;&lt;iframe src="companyprofile.jsp" height="200" width="198" scrolling="No" frameborder="0"&gt;&lt;/iframe&gt;&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/table&gt;&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td width="688" valign="top" class="font12"&gt;&lt;!--&lt;DIV id="Layer_Loading" style="POSITION: absolute;display:none;"&gt;页面正在加载中……&lt;/DIV&gt;--&gt;<br>&lt;%<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String Url="";<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Url=request.getParameter("Url");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch(Exception ex){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Url="";<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(Url==null||Url.equals(""))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;iframe id="mainFrame" src="firstPage.jsp" width="700" scrolling="No" frameborder="0" onload="toppage();"&gt;&lt;/iframe&gt;&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;%<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp; &lt;iframe id="mainFrame" src="&lt;%=Url+".jsp"%&gt;" width="700" scrolling="No" frameborder="0" onload="toppage();"&gt;&lt;/iframe&gt;&lt;/td&gt;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;%<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %&gt;<br>&lt;/tr&gt;<br>&lt;/table&gt;<br>&lt;table width="900" border="0" align="center" cellpadding="0" cellspacing="0"&gt;<br>&lt;tr&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;iframe src="bottom.jsp" width="900" height="100" scrolling="No" frameborder="0"&gt;&lt;/iframe&gt;&lt;/td&gt;<br>&lt;/tr&gt;<br>&lt;/table&gt;<br>红色代码是新增加的部分，这样就做到主框架的子页面跳转到别的页面后再刷新就不会出现问题了。剩下来唯一要做的就是改变网站中原来的连接URL，即在原来的连接地址后增加Url参数，<br>格式为：原来的连接地址+“？URl=”+页面的路径。<br>事情到了这里，原本以为大功告成，但是发现在IE浏览器中浏览发现了问题，子页面的跳转让整个框架都刷了一遍，这可不是我们所想要的啊，造成<a href=http://biancheng.dnbcw.info/win2003/>服务器</a>和网络的负担。<br>但是FIREFOX中就不存在这个问题，是部分刷新的（看来FIREFOX的确速度快啊）<br></div><p><a href=http://topic.dnbcw.info/javascript/181248 target=_blank>“框架页面下的子页面刷新与跳转指定URL问题”的更多相关文章&nbsp;》</a></p><h3>相关资料：</h3><ul class=ul_xiangguan><li><a href=http://biancheng.dnbcw.info/javascript/>javascript</a>｜<a href=http://biancheng.dnbcw.info/javascript/181249.html>局部刷新</a></li><li><a href=http://biancheng.dnbcw.info/javascript/>javascript</a>｜<a href=http://biancheng.dnbcw.info/javascript/181250.html>转贴修改Tomcat5的service.bat</a></li><li><a href=http://biancheng.dnbcw.info/javascript/>javascript</a>｜<a href=http://biancheng.dnbcw.info/javascript/181251.html>jquery删除html标签（表格行）</a></li><li><a href=http://biancheng.dnbcw.info/javascript/><span style="color:red">javascript</span></a>｜<a href="http://biancheng.dnbcw.info/javascript/181248.html"><span style="color:red">框架页面下的子页面刷新与跳转指定URL问题</span></a></li><li><a href=http://biancheng.dnbcw.info/javascript/>javascript</a>｜<a href=http://biancheng.dnbcw.info/javascript/181247.html>PHPisset()&amp;&amp;&amp;&amp;&amp;unset()</a></li><li><a href=http://biancheng.dnbcw.info/javascript/>javascript</a>｜<a href=http://biancheng.dnbcw.info/javascript/181246.html>如何让外面得滚动条控制iframe里面的滚动条?让iframe里面没有滚动条</a></li><li><a href=http://biancheng.dnbcw.info/javascript/>javascript</a>｜<a href=http://biancheng.dnbcw.info/javascript/181245.html>图片尺寸过大时会撑开页面解决方法</a></li></ul><p><strong>框架页面下的子页面刷新与跳转指定URL问题</strong>来源网络，如有侵权请告知，即处理！</p></div></div><div class="all_r"><h3 class=bglv>编程Tags：</h3><div class=content><a href=http://biancheng.dnbcw.info/asp/>asp</a>　<a href=http://biancheng.dnbcw.info/sql/>数据库</a>　<a href=http://biancheng.dnbcw.info/java/>java</a>　<a href=http://biancheng.dnbcw.info/javascript/>javascript</a>　<a href=http://biancheng.dnbcw.info/php/>php</a>　<a href=http://biancheng.dnbcw.info/jsp/>jsp</a>　<a href=http://biancheng.dnbcw.info/c/>c/c++</a>　<a href=http://biancheng.dnbcw.info/win2003/>服务器</a>　<a href=http://biancheng.dnbcw.info/linux/>linux</a>　<a href=http://biancheng.dnbcw.info/net/>asp.net</a>　<a href=http://biancheng.dnbcw.info/ajax/>ajax</a>　<a href=http://biancheng.dnbcw.info/vb/>vb</a>　<a href=http://biancheng.dnbcw.info/Delphi/>Delphi</a>　<a href=http://biancheng.dnbcw.info/vc/>vc</a>　<a href=http://biancheng.dnbcw.info/mysql/>mysql</a>　<a href=http://biancheng.dnbcw.info/mssql/>mssql</a>　<a href=http://biancheng.dnbcw.info/oracle/>oracle</a>&nbsp;<a href=http://biancheng.dnbcw.info/access/>access</a>　<a href=http://biancheng.dnbcw.info/flash/>flash</a>　<a href=http://biancheng.dnbcw.info/jiami/>加密</a>　<a href=http://biancheng.dnbcw.info/md5/>md5</a><br><a href=http://biancheng.dnbcw.info/zhengzebiaodashi/>正则表达式</a>　<a href=http://biancheng.dnbcw.info/css/>css</a>　<a href=http://biancheng.dnbcw.info/dos/>dos</a>　<a href=http://biancheng.dnbcw.info/zhucebiao/>注册表</a>　<a href=http://biancheng.dnbcw.info/ubuntu/>ubuntu</a>　<a href=http://biancheng.dnbcw.info/excel/>excel</a>　<a href=http://biancheng.dnbcw.info/apache/>apache</a>　<a href=http://biancheng.dnbcw.info/python/>python</a>　<a href=http://biancheng.dnbcw.info/ruby/>ruby</a>　<a href=http://biancheng.dnbcw.info/flex/>flex</a>　<a href=http://biancheng.dnbcw.info/perl/>perl</a>　<a href=http://biancheng.dnbcw.info/Windows7/>Windows7</a><br><a href=http://biancheng.dnbcw.info/shouji/>手机软件</a>　<a href=http://biancheng.dnbcw.info/j2ee/>j2ee</a><br><a href=http://biancheng.dnbcw.info/texiao/>网页特效</a>　<a href=http://biancheng.dnbcw.info/jquery/>jquery</a><br><a href=http://biancheng.dnbcw.info/1000wen/>编程10000问</a>　<a href=http://biancheng.dnbcw.info/bsd/>BSD</a>　<a href=http://biancheng.dnbcw.info/solaris/>Solaris</a>　<a href=http://biancheng.dnbcw.info/aix/>AIX</a>　<a href=http://biancheng.dnbcw.info/shell/>Shell</a></div><br><script type="text/javascript"><!--
google_ad_client = "ca-pub-5582534119917896";
/* 160x600 */
google_ad_slot = "9022285783";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script><br /><br /><div id=daright1></div></div></div><script src=http://www.dnbcw.info/js/da.js type="text/javascript"></script><div id=danav_h><script>da("danav")</script></div><div id=daright1_h><script>da("daright1")</script></div><div class=bottom><script src=http://www.dnbcw.info/js/bottom.js type="text/javascript"></script></div><script type="text/javascript" id="bdshare_js" data="type=tools" ></script><script type="text/javascript" id="bdshell_js"></script><script type="text/javascript">document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?t=" + new Date().getHours();</script></body></html>